plugins {
    id "java"
    id "edu.wpi.first.GradleRIO"
}

repositories {
  maven {
        url 'https://jitpack.io' 
    }
}

sourceCompatibility = JavaVersion.VERSION_11
targetCompatibility = JavaVersion.VERSION_11

wpi.maven.useLocal = false

// Set this to true to enable desktop support.
def includeDesktopSupport = false

dependencies {
    implementation wpi.java.deps.wpilib()
    implementation wpi.java.vendor.java()

    implementation 'org.java-websocket:Java-WebSocket:1.3.8'
    implementation 'net.thefletcher:SparkMaxSim-java:2022.1.1'
    implementation group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1.1'
}

jar {
    from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }

    duplicatesStrategy = DuplicatesStrategy.INCLUDE
    archiveName "common.jar"
}